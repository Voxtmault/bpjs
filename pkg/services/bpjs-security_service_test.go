package services

import (
	"context"
	"testing"

	"github.com/voxtmault/bpjs-rs-module/config"
)

func TestDecrypt(t *testing.T) {
	// sampleData := `Oc\/yp+DS7ygSXyZ0pmtHz3woZ\/7l+nYyoVbXe0qo\/bmvYDI0k0c8oPYX1Fk+0GLQSGiLtc3HljRApxi3caukTWw+lRS0vNkcSSXaOkenYgkZVVzTA8FrTYe2lNHf\/TIbOJ+Loj\/\/cH68SBMjJeyvN2wjVdl7Kfb3L\/4DBagIqO7AzSQV24wg2NaQvKpTSRBxWTBnTm2ZnLJI+LdD8kNGp8F1SUtWGdPUwag1x7Tu+i3aaLKpjuZwbi4OktCc9GQFiiaVFANLUpxxJtVXRuMgx9b7esx+irCczy6LMpJRNoAEgP8s3g27XyIN6HyAZWmuHVlFgRR44WidLuJ6mDDnhcZ8NWpBnDf0NBxsF4X+MQk\/OEs6AsOB5UWwe8o322KjksHmM2cf8oDgoIzrhbJUytdZ1RhAMTsGOlfyqW1fITiYYJW8\/TLMEgpZFqP+o3maQ8DBHe7pwxZ3BlwdoMDZbfE\/o618mzswdv74jf7YDtyazUxrL0kES\/8RtA3c3awZmGll2yS7UzwfO8pdfweldtI4i4BxRoiNI5lfbJ040QPqPLMRDdej7eWs0Fxo8BuYJgpkHXaQlMj5ShXD7feWlbPS8SMsUWrOIqIky38TO0m3TBt4Zo6WI5+R+IjbIVVXOeTz4hhz9kq4eMZegNUPZy9APIsafZwqe5OfANf82YBtKhITapKoTkhDO0QZ50koLf8MiDa5MWHA5WWGaB9KuTD\/GJmtwP+qTgMdmim3PfXZleT8CW\/MQp9bhlqrLNC6jMOi9ljH71ox+BaOV3gXcdWxbppK\/oGV31yOWCowyCbjSdmbDNNRn8CTCmTzplCJgSCpm2h5Ht8sf\/QxDNi3AQ==`
	sampleData := `BpkZRxw4wceeSP2z7XXQmyU4xhkuI9NZzv/zfykDcMfeZSm4LDr9BAsnGrCrmxC9n3IbZKhcKy+CqLYGYMm4dKHdY/ufajKGNXf4oIrCwB2M11DKTiwElvuz9OjPPDl/VBQlmX0KcVHB9cKe362OZKavzTlrB6aXLn5rNmGGclo0JdYUJhlFeJ591/4r8ZD1rUGeX+URwHaL05MXSAjTQOmhzC296FzdTtOfw64l9xhqoV/9L8GEQ7xdEeKI4ZDPz+BqX0OBNVESsV1zy7AlW5BcxP0jmwcr9xuIvLPBM+GsYN3TftZ2msY5BAAYL9HZQJNeRyxRFobTtUFtEFvdPDTIHPYtE6a9jIOb1h2O9xSrgdJyCiYlGDweN16DXvn0E7qUsT1RLdVIOwlpkZFRTny9azVRUEBBlwUdXE0ViF8aW1Ox1EyP3lqyzVh3n0Hw/HIQfeyifOEg43vO6Wv0C1RmhI1mtp52BdxTkWXVcRw9Aj5CNmm1iLShduSCeUnNY8lkf7EWWAz8V1+HE/bxcpTp0k1xhWJ/UiBV0gSZVJqpaQagAoYDL7Q6fPqbDbL4Ej9QrVTxZQGIuwWp/RX2CW/1oUvLRb0yycVH947YixuM5TKiF9E+G66QiA2SToVqTn2NE9YDI1U1BXOJMFamZHvwtGhreL+GTTuzhUtUmv6t9UdxgwbHDr82VH4IP0Ag2Km8qZ2iFEubhNYbZwaR0H/uGqzo9OSoL308s4nADY4VtkTEaoua51cAXcH98Lvsbwqz46AkECxVlrutnBmROw==`
	// sampleTimestamp := 1726649977
	sampleTimestamp := 1726654274

	config.New("/home/andy/go-projects/rs/bpjs/.env")

	s := BPJSSecurityService{}

	_, err := s.DecryptResponse(context.Background(), int64(sampleTimestamp), sampleData)
	if err != nil {
		t.Errorf("Error decrypting response: %v", err)
	}
}
